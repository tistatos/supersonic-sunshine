cmake_minimum_required(VERSION 2.8.12.2)

PROJECT(GLFW C CXX)
include(ExternalProject)

set(GLFW_PREFIX "${CMAKE_CURRENT_BINARY_DIR}/external/GLFW")
set(GLFW_CMAKE_ARGS
	-DGLFW_BUILD_EXAMPLES=OFF
	-DGLFW_BUILD_TESTS=OFF
	-DGLFW_BUILD_DOCS=OFF
	-DGLFW_INSTALL=OFF
	-DBUILD_SHARED_LIBS=ON )

ExternalProject_Add(GLFW
	PREFIX ${GLFW_PREFIX}
	GIT_REPOSITORY http://github.com/glfw/glfw.git
	GIT_TAG 3.2.1
	UPDATE_COMMAND ""
	CONFIGURE_COMMAND ""
	BUILD_IN_SOURCE 1
	BUILD_COMMAND ${CMAKE_COMMAND} . ${GLFW_CMAKE_ARGS}
	INSTALL_COMMAND make
)

set(GLFW_INCLUDE_DIR ${GLFW_PREFIX}/src/GLFW/include PARENT_SCOPE)
set(GLFW_LIBRARIES ${GLFW_PREFIX}/src/GLFW/src/libglfw${CMAKE_SHARED_LIBRARY_SUFFIX} PARENT_SCOPE)
